## 重定向中的0，1，2，各代表的是什么意思

标准输入（stdin，文件描述符为0）:默认从键盘输入，为0时表示的是从其他的文件或者命令的输入

标准输出（stdout，文件描述符为1）:默认输出到屏幕，为1时表示的是文件

错误输出（stderr，文件描述符为2 ）:默认输出到屏幕，为2时表示的是文件

## command 2>&1 >command.log和command>command.log 2>&1的执行效果相同么，为什么？

2>&1表示的是把标准错误信息重定向到标准输出，就是标准输出和错误输出都同在一个输出管道中，总上所述，这两个命令的输出的效果是不一样的，第二个命令为将标准输出重定向到log文件里面，2>&!为标准错误拷贝了标准输出的行为，也就是同样被重定向到log文件里面去，最终的结果就是标准错误和输出都被重定向到log文件中，第一个命令为标准错误拷贝了标准输出的行为，但是此时的标准输出还是在终端，>command.log之后才被重定向到log文件中，但是标准错误仍然保持在了终端 

## 请简述管道是如何让程序能够互相协作的 

管道是进程之间通信的主要手段之一，一个管道实际上就是一个存在于内存中的文件 ，对于这个文件的操作需要通过两个已经打开文件进行，分别代表管道的两端

**实现原理：**

管道由内核管理的一个缓冲区，相当于我们放入内存的一个纸条，管道的一端连接一个进程的输出。这个进程会想管道放入信息，管道的另一端连接一个进程的输入，这个进程负责去除管道中的信息。这个缓冲区被设计成为环形的数据结构以便管道可以循环利用。当两个进程结束的时候，管道也就消失了。

当管道由pipe函数创建，调用pipe函数的时候在内核中开辟一个缓冲区用于通信，它有一个读端和一个写端，通过filedes参数传给程序两个文件描述符，field[0]只想管道的读端，field[1]指向管道的写端，通过read(field[0])或者write(field[1])向这个文件读写数据，其实是在读写内核缓冲区，从原理上来讲，管道使用fork机制建立，使得两个进程可以连接到同一个pipe上，父进程关闭pipe的输入连接，子进程关闭输出到pip的连接，便实现了最终的pipe的连接状态
 

## 请简述一个场景，其中使用命名管道是必要的
管道根据其适用的范围可以分为两种：

1. 无名管道：主要用于父进程和子进程之间 ，或者两个兄弟进程之间。在linux系统中可以通过系统来建立一个单向的通信管道，且这种关系只能有 父进程来建立 ，因此，每个管道都是单向，需要双方通信的时候就需要建立两个管道
2. 命名管道：主要为了解决无名管道只能用于近亲进程之间的通信的缺陷而设计的。命名管道是建立在实际的磁盘介质或者文件系统中（*而不是只存在于内存中*）上有自己名字的文件，任何进程在任何时间通过文件名和路径可以与该文件建立联系。

为了解决管理只能用于父进程和子进程之间，或者拥有相同祖先的两个子进程之间，linux提供了FIFO方式连接进程，FIFO又叫做命名管道

FIFO在文件系统有对应的路径，当一个进程以只读的方式打开该文件，另一个进程以写的方式打开文件，那么内核就会在这两个进程之间建立管道，所以FIFO实际上也有内核管理，FIFO的好处在于我们可以通过文件的路径来识别管道，从而让没有亲缘关系的进程之间建立连接